<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2048 Strategy Explanation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .strategy-section {
            margin-bottom: 50px;
            border-left: 5px solid #667eea;
            padding-left: 30px;
            scroll-margin-top: 20px;
        }
        
        .strategy-section:nth-child(2) {
            border-left-color: #764ba2;
        }
        
        .strategy-section:nth-child(3) {
            border-left-color: #f093fb;
        }
        
        .strategy-section h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .strategy-section:nth-child(2) h2 {
            color: #764ba2;
        }
        
        .strategy-section:nth-child(3) h2 {
            color: #f093fb;
        }
        
        .badge {
            display: inline-block;
            padding: 5px 12px;
            background: #667eea;
            color: white;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
        }
        
        .strategy-section:nth-child(2) .badge {
            background: #764ba2;
        }
        
        .strategy-section:nth-child(3) .badge {
            background: #f093fb;
        }
        
        .description {
            color: #555;
            font-size: 1.05em;
            margin-bottom: 20px;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
        }
        
        .subsection {
            margin-top: 25px;
        }
        
        .subsection h3 {
            color: #667eea;
            font-size: 1.3em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .strategy-section:nth-child(2) .subsection h3 {
            color: #764ba2;
        }
        
        .strategy-section:nth-child(3) .subsection h3 {
            color: #f093fb;
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            line-height: 1.4;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }
        
        .strategy-section:nth-child(2) .code-block {
            border-left-color: #764ba2;
        }
        
        .strategy-section:nth-child(3) .code-block {
            border-left-color: #f093fb;
        }
        
        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 15px 0;
        }
        
        .pros, .cons {
            padding: 15px;
            border-radius: 5px;
        }
        
        .pros {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
        }
        
        .cons {
            background: #ffebee;
            border-left: 4px solid #f44336;
        }
        
        .pros h4, .cons h4 {
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .pros h4 {
            color: #2e7d32;
        }
        
        .cons h4 {
            color: #c62828;
        }
        
        .pros ul, .cons ul {
            list-style-position: inside;
            color: #555;
        }
        
        .pros li, .cons li {
            margin-bottom: 8px;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            background: white;
            border-radius: 5px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .comparison-table thead {
            background: #667eea;
            color: white;
        }
        
        .comparison-table th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        .comparison-table td {
            padding: 15px;
            border-bottom: 1px solid #ddd;
        }
        
        .comparison-table tr:hover {
            background: #f8f9fa;
        }
        
        .comparison-table tbody tr:last-child td {
            border-bottom: none;
        }
        
        .metric {
            font-weight: 500;
            color: #667eea;
        }
        
        .insight {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            color: #856404;
        }
        
        .insight strong {
            color: #d39e00;
        }
        
        .usage {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            color: #0d47a1;
        }
        
        .usage strong {
            color: #1565c0;
        }
        
        .usage ol {
            margin-left: 20px;
            margin-top: 10px;
        }
        
        .usage li {
            margin-bottom: 8px;
        }
        
        footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            color: #666;
            border-top: 1px solid #ddd;
        }
        
        .back-button {
            display: inline-block;
            padding: 10px 20px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin-top: 20px;
            transition: background 0.3s;
        }
        
        .back-button:hover {
            background: #764ba2;
        }
        
        @media (max-width: 768px) {
            .pros-cons {
                grid-template-columns: 1fr;
            }
            
            header h1 {
                font-size: 1.8em;
            }
            
            .content {
                padding: 20px;
            }
            
            .strategy-section {
                padding-left: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéÆ 2048 Strategy Guide</h1>
            <p>Understanding the AI Strategies Behind the Game</p>
        </header>
        
        <div class="content">
            <!-- Pattern Solver Strategy -->
            <div class="strategy-section">
                <h2>
                    <span>üìä</span>
                    Pattern Solver
                    <span class="badge">Strategy 1</span>
                </h2>
                
                <div class="description">
                    The Pattern Solver uses a fixed priority system with periodic alternation. It always tries to move UP first, then RIGHT, then alternates between LEFT and RIGHT for subsequent moves. This creates a predictable pattern that keeps the board relatively organized.
                </div>
                
                <div class="subsection">
                    <h3>‚öôÔ∏è How It Works</h3>
                    <p>The strategy follows this decision tree:</p>
                    <div class="code-block">
IF can move UP:
    move UP
ELSE IF can move RIGHT:
    move RIGHT
ELSE IF (toggle is OFF):
    move LEFT and toggle ON
ELSE IF (toggle is ON):
    move RIGHT and toggle OFF
ELSE:
    no valid moves (game over)
                    </div>
                    <p><strong>Key Mechanism:</strong> A "phase" toggle switches between LEFT and RIGHT every time those directions are chosen, creating alternating horizontal movement patterns.</p>
                </div>
                
                <div class="subsection">
                    <h3>üéØ Decision Logic</h3>
                    <ul style="margin-left: 20px; color: #555;">
                        <li><strong>Priority Order:</strong> UP > RIGHT > LEFT/RIGHT (alternating)</li>
                        <li><strong>Lookahead:</strong> None (immediate decisions only)</li>
                        <li><strong>Board State Consideration:</strong> Only checks if move is possible, ignores tile values</li>
                        <li><strong>Adaptability:</strong> Fixed pattern regardless of board condition</li>
                    </ul>
                </div>
                
                <div class="subsection">
                    <h3>üìà Performance</h3>
                    <p><strong>Average Score:</strong> 2,000 - 5,000 points</p>
                    <p><strong>Max Tile Reached:</strong> Usually 256 - 512</p>
                    <p><strong>Success Rate:</strong> ~30% make it past tile 256</p>
                    <p><strong>Speed:</strong> Very fast (~0.1ms per game)</p>
                </div>
                
                <div class="pros-cons">
                    <div class="pros">
                        <h4>‚úÖ Strengths</h4>
                        <ul>
                            <li>Extremely fast execution</li>
                            <li>Predictable and testable</li>
                            <li>Low computational overhead</li>
                            <li>Good for learning AI basics</li>
                        </ul>
                    </div>
                    <div class="cons">
                        <h4>‚ùå Weaknesses</h4>
                        <ul>
                            <li>Ignores actual tile positions</li>
                            <li>Often fills board quickly</li>
                            <li>No strategic foresight</li>
                            <li>Trapped frequently in corners</li>
                        </ul>
                    </div>
                </div>
                
                <div class="insight">
                    <strong>üí° Insight:</strong> While the Pattern Solver achieves modest scores, it demonstrates that even a simple heuristic can beat random play. However, it reveals the importance of considering board state in strategic decisions‚Äîfixed patterns lack adaptability.
                </div>
            </div>
            
            <!-- Corner Stack Strategy -->
            <div class="strategy-section">
                <h2>
                    <span>üìê</span>
                    Corner Stack Strategy
                    <span class="badge">Strategy 2</span>
                </h2>
                
                <div class="description">
                    The Corner Stack strategy intentionally pushes tiles toward a corner (bottom-right) by prioritizing DOWN and RIGHT movements. This keeps the highest-value tiles confined to one area, making merges more controllable and predictable.
                </div>
                
                <div class="subsection">
                    <h3>‚öôÔ∏è How It Works</h3>
                    <p>The strategy uses a strict priority hierarchy:</p>
                    <div class="code-block">
IF can move DOWN:
    move DOWN
ELSE IF can move RIGHT:
    move RIGHT
ELSE IF can move LEFT:
    move LEFT
ELSE IF can move UP:
    move UP
ELSE:
    no valid moves (game over)
                    </div>
                    <p><strong>Key Mechanism:</strong> By consistently pushing DOWN then RIGHT, tiles accumulate in the bottom-right corner, creating a "staircase" pattern of increasing tile values.</p>
                </div>
                
                <div class="subsection">
                    <h3>üéØ Decision Logic</h3>
                    <ul style="margin-left: 20px; color: #555;">
                        <li><strong>Priority Order:</strong> DOWN > RIGHT > LEFT > UP</li>
                        <li><strong>Lookahead:</strong> None (immediate decisions only)</li>
                        <li><strong>Board State Consideration:</strong> Only checks if move is possible</li>
                        <li><strong>Focus:</strong> Geometric position (corner stacking)</li>
                    </ul>
                </div>
                
                <div class="subsection">
                    <h3>üìà Performance</h3>
                    <p><strong>Average Score:</strong> 5,000 - 15,000 points</p>
                    <p><strong>Max Tile Reached:</strong> Usually 1024 - 2048</p>
                    <p><strong>Success Rate:</strong> ~70% make it past tile 512</p>
                    <p><strong>Speed:</strong> Very fast (~0.2ms per game)</p>
                </div>
                
                <div class="pros-cons">
                    <div class="pros">
                        <h4>‚úÖ Strengths</h4>
                        <ul>
                            <li>3-5x better than pattern solver</li>
                            <li>Intuitive corner-based strategy</li>
                            <li>Still very fast execution</li>
                            <li>Creates organized board patterns</li>
                        </ul>
                    </div>
                    <div class="cons">
                        <h4>‚ùå Weaknesses</h4>
                        <ul>
                            <li>Ignores tile values entirely</li>
                            <li>Can waste moves pushing empty cells</li>
                            <li>No look-ahead evaluation</li>
                            <li>Occasionally deadlocks in suboptimal positions</li>
                        </ul>
                    </div>
                </div>
                
                <div class="insight">
                    <strong>üí° Insight:</strong> Corner stacking demonstrates that spatial awareness (even without tile value consideration) dramatically improves performance. This strategy shows that organizing the board geometrically creates natural merging opportunities that the Pattern Solver misses entirely.
                </div>
            </div>
            
            <!-- Advanced Corner Strategy -->
            <div class="strategy-section">
                <h2>
                    <span>üß†</span>
                    Advanced Corner (Heuristic)
                    <span class="badge">Strategy 3</span>
                </h2>
                
                <div class="description">
                    The Advanced Corner strategy combines corner prioritization with board evaluation. It evaluates all four possible moves, scores the resulting boards based on empty cells and corner distance, and selects the move that produces the highest score. This lookahead-based approach significantly outperforms simpler strategies.
                </div>
                
                <div class="subsection">
                    <h3>‚öôÔ∏è How It Works</h3>
                    <p>The strategy uses a scoring function to evaluate each possible move:</p>
                    <div class="code-block">
FOR each direction (DOWN, RIGHT, LEFT, UP):
    IF move is possible:
        simulate the move
        score_new_board = (empty_cells √ó 10) + (corner_distance √ó 50)
        IF score_new_board > best_score:
            best_score = score_new_board
            best_move = direction

RETURN best_move
                    </div>
                    <p><strong>Key Mechanism:</strong> The scoring function balances two factors:</p>
                    <ul style="margin-left: 20px; color: #555;">
                        <li><strong>Empty Cells (√ó10):</strong> More open space = more flexibility = higher score</li>
                        <li><strong>Corner Distance (√ó50):</strong> Distance from highest tile to corner; minimizing this keeps tiles organized</li>
                    </ul>
                </div>
                
                <div class="subsection">
                    <h3>üìã Scoring Formula</h3>
                    <div class="code-block">
board_score = (empty_cells_count √ó 10) + ((8 - manhattan_distance) √ó 50)

Where:
  - empty_cells_count: Number of 0 values in the 4√ó4 grid (0-16)
  - manhattan_distance: Distance of highest tile from bottom-right corner
  - Distance is capped at 8 (maximum on 4√ó4 grid)
                    </div>
                </div>
                
                <div class="subsection">
                    <h3>üìà Performance</h3>
                    <p><strong>Average Score:</strong> 15,000 - 50,000+ points</p>
                    <p><strong>Max Tile Reached:</strong> Usually 2048 - 8192</p>
                    <p><strong>Success Rate:</strong> ~90% make it past tile 2048</p>
                    <p><strong>Speed:</strong> Moderate (~0.5ms per game, still <1 second for 100 games)</p>
                </div>
                
                <div class="pros-cons">
                    <div class="pros">
                        <h4>‚úÖ Strengths</h4>
                        <ul>
                            <li>3-10x better than corner stack</li>
                            <li>Evaluates board state directly</li>
                            <li>Balances open space and organization</li>
                            <li>Reaches high tiles (2048+)</li>
                        </ul>
                    </div>
                    <div class="cons">
                        <h4>‚ùå Weaknesses</h4>
                        <ul>
                            <li>Only 1-move lookahead</li>
                            <li>Slower than simpler strategies</li>
                            <li>Heuristic may not always align with optimal play</li>
                            <li>Scoring weights are arbitrary (could be optimized)</li>
                        </ul>
                    </div>
                </div>
                
                <div class="insight">
                    <strong>üí° Insight:</strong> Adding even shallow lookahead (1 move) with board evaluation creates a massive performance jump. The Advanced Corner demonstrates that heuristic evaluation is far more effective than fixed patterns. The choice to weight corner distance heavily (√ó50 vs. √ó10 for empty cells) reflects the observation that organization matters more than space in 2048.
                </div>
            </div>
            
            <!-- Comparison Table -->
            <div class="subsection" style="margin-top: 50px;">
                <h3>üìä Strategy Comparison</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Attribute</th>
                            <th>Pattern Solver</th>
                            <th>Corner Stack</th>
                            <th>Advanced Corner</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric">Decision Method</td>
                            <td>Fixed Priority</td>
                            <td>Fixed Priority (Corner)</td>
                            <td>Board Evaluation</td>
                        </tr>
                        <tr>
                            <td class="metric">Lookahead Depth</td>
                            <td>0 moves</td>
                            <td>0 moves</td>
                            <td>1 move</td>
                        </tr>
                        <tr>
                            <td class="metric">Corner Focus</td>
                            <td>None</td>
                            <td>High</td>
                            <td>High</td>
                        </tr>
                        <tr>
                            <td class="metric">Empty Space Priority</td>
                            <td>None</td>
                            <td>None</td>
                            <td>Moderate (√ó10)</td>
                        </tr>
                        <tr>
                            <td class="metric">Avg Score</td>
                            <td>2K - 5K</td>
                            <td>5K - 15K</td>
                            <td>15K - 50K+</td>
                        </tr>
                        <tr>
                            <td class="metric">Max Tile</td>
                            <td>256 - 512</td>
                            <td>1024 - 2048</td>
                            <td>2048 - 8192+</td>
                        </tr>
                        <tr>
                            <td class="metric">Speed (per game)</td>
                            <td>~0.1ms</td>
                            <td>~0.2ms</td>
                            <td>~0.5ms</td>
                        </tr>
                        <tr>
                            <td class="metric">Complexity</td>
                            <td>Very Low</td>
                            <td>Very Low</td>
                            <td>Low</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Usage Instructions -->
            <div class="subsection" style="margin-top: 50px;">
                <h3>üéÆ How to Use These Strategies</h3>
                
                <div class="usage">
                    <strong>Watching a Strategy Play (Real-time):</strong>
                    <ol>
                        <li>Click the <strong>Strategy Selector dropdown</strong> and choose: Pattern Solver, Corner Stack, or Advanced Corner</li>
                        <li>Click the <strong>Run Pattern Solver</strong> button to start</li>
                        <li>Watch the AI play in real-time (moves happen every 50ms)</li>
                        <li>Press <strong>SPACE</strong> to pause/resume</li>
                        <li>Press <strong>Z</strong> to undo the last move (if needed)</li>
                        <li>The game shows the score and max tile achieved</li>
                    </ol>
                </div>
                
                <div class="usage">
                    <strong>Running 100-Game Simulations (Batch Testing):</strong>
                    <ol>
                        <li>Click the <strong>Simulator Policy dropdown</strong> and choose a strategy</li>
                        <li>Click the <strong>Run 100 Games</strong> button</li>
                        <li>The simulator runs 100 games in the background (~0.5 seconds total)</li>
                        <li>Results display: Average score, min/max, median, standard deviation, percentiles</li>
                        <li>Results are saved locally; refresh the page to see historical simulations</li>
                        <li>Compare strategies to see which performs best!</li>
                    </ol>
                </div>
            </div>
            
            <!-- Key Insights -->
            <div class="subsection" style="margin-top: 50px;">
                <h3>üí° Key Insights</h3>
                
                <div class="insight">
                    <strong>1. Board State Matters:</strong> Strategies that evaluate the board (Advanced Corner) vastly outperform those that don't (Pattern Solver). Even simple metrics like empty cell count and distance from corner make a huge difference.
                </div>
                
                <div class="insight">
                    <strong>2. Lookahead > Fixed Patterns:</strong> A 1-move lookahead with evaluation beats fixed priority strategies by 3-10x. This shows that adaptability is more valuable than rigid rules.
                </div>
                
                <div class="insight">
                    <strong>3. Corner Organization:</strong> All three strategies benefit from corner prioritization (even the basic Pattern Solver alternates horizontally). Keeping high-value tiles localized is key to success.
                </div>
                
                <div class="insight">
                    <strong>4. Space vs. Organization:</strong> The Advanced Corner weights corner distance (√ó50) much higher than empty cells (√ó10). This reflects that board organization is more important than raw space availability in 2048.
                </div>
                
                <div class="insight">
                    <strong>5. Performance Scaling:</strong> Even with increasing complexity (0 lookahead ‚Üí 1 move lookahead), execution time remains sub-millisecond. 100 games run in <1 second, showing these strategies scale well.
                </div>
            </div>
            
            <!-- Future Improvements -->
            <div class="subsection" style="margin-top: 50px;">
                <h3>üöÄ Possible Future Improvements</h3>
                
                <div style="background: #f0f4ff; padding: 20px; border-radius: 5px; border-left: 4px solid #667eea;">
                    <ul style="margin-left: 20px; color: #555; line-height: 2;">
                        <li><strong>Deeper Lookahead:</strong> Evaluate 2-3 moves ahead using minimax or alpha-beta pruning</li>
                        <li><strong>Weighted Heuristics:</strong> Adjust scoring weights dynamically as tiles increase</li>
                        <li><strong>Monotonicity Heuristic:</strong> Penalize chaotic tile arrangements, reward monotonic patterns</li>
                        <li><strong>Smoothness:</strong> Measure differences between adjacent tiles; keep them similar</li>
                        <li><strong>Monte Carlo Tree Search:</strong> Randomly simulate 100+ continuations, pick best branch</li>
                        <li><strong>Neural Networks:</strong> Train a model to predict board "goodness" from patterns</li>
                        <li><strong>Endgame Strategies:</strong> Different behavior once tiles exceed 2048 (pushing for 4096, 8192)</li>
                    </ul>
                </div>
            </div>
            
            <!-- Back Button -->
            <div style="text-align: center; margin-top: 50px;">
                <a href="javascript:window.close();" class="back-button">‚Üê Back to Game</a>
            </div>
        </div>
        
        <footer>
            <p>2048 Strategy Explanation Page | <a href="javascript:window.close();" style="color: #667eea; text-decoration: none;">Close Window</a></p>
            <p>Developed for educational purposes to understand AI strategy in game playing</p>
        </footer>
    </div>
</body>
</html>
